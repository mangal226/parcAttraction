
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.2/chart.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
<style media="screen">

body{
  background-color:orange;
  margin:0;
}
fieldset{
  position: relative;
  top: 150px;
  background-color:white;
  color:blue;
  border:5px solid black ;
  border-radius:20px
}
#divLogo
{
position:absolute;
top:10px;
left:70px;
width : 150px;
height : 150px;
}
#Logo
{
  width : 267px;
  height : 150px;
}
#banniere
{
  font-size: 20px;
  background-color:white;
  width:100%;
  height:70px;
}

.nav
{
 padding: 0;
 margin: 0;
 height:70px;
 width:75%;
 //background-color:grey;
 position:absolute;
 top:0px;
 left:15%;
}
#listeBanniere
{
  display:flex;
  margin:0;
  justify-content: space-evenly;
  list-style-type:none;
  font-size:25px;
}
#jordan
{
  display:flex;
  position: relative;
  top: 150px;
}
li
{
  padding:21px;
  padding-left:100px;
  padding-right:100px;
}
li:hover {
  background-color: #C0C0C0;
}
#contenu
{
  position:absolute;
  border:2px solid black;
  background-color:white;
  top:300px;
  left:650px;
  padding-left:20px;
  padding-right:20px;
  display:flex;
  justify-content:center;
  box-shadow: 0 0 20px 0 rgb(0 0 0 / 20%), 0 5px 5px 0 rgb(0 0 0 / 24%);
}

#content
{
  width:100%;
  display : flex;
}
#entree
{
  position : relative;
  top : 80px;
	width:40%;
  font-family : cursive;
}

.formulaire-formation {
    margin: 40px auto;
    width: 90%;
    height: 200px;
    background-color: #cdb76b;
    text-align: center;
}
.formulaire-formation strong{
display: inline-block;
width: 100%;
background-color: #1c5cab;
}
.button
{
  background-color: #1c5cab;
  position : relative;
  left : 160px;
  color: black;
}
#sortie
{
	width:60%;
}
#myChart
{
  height:50%;
}

.modal {
display: none; /* Masqué par défaut */
position: fixed; /* Rester dans la place */
z-index: 8888; /* S'asseoir en haut */
left: 0;
top: 0;
width: 100%; /* Largeur complète */
height: 100%; /* Hauteur complète */
overflow: auto; /* Activer défilement si nécessaire */
background-color: rgb(0,0,0); /* Couleur de plan */
background-color: rgba(0,0,0,0.4); /*  w/ opacité noir*/
}
/* Contenu Modal/Boîte*/
.modal-content {
background-color: #fefefe;
margin: 10vh auto; /* 15% d'en haut et centré */
padding: 20px;
border: 1px solid #888;
width: 60%; /* Pouvait être plus ou moins, dépend de la taille de l'écran  */
}
@media (min-width: 1366px) {
.modal-content {
background-color: #fefefe;
margin: 10vh auto; /* 15% d'en haut et centré */
padding: 20px;
border: 1px solid #888;
width: 30%; /* Pouvait être plus ou moins, dépend de la taille de l'écran */
}

}

form {
padding: 25px;
margin: 25px;
box-shadow: 0 2px 5px #f5f5f5;
background: #eee;
}

/* Le bouton Fermer */
.close {
color: red;
float: right;
font-size: 28px;
font-weight: bold;
}
.close:hover,
.close:focus {
color: black;
text-decoration: none;
cursor: pointer;
}

.modif{
  margin : 40px;
}

</style>
<body>


  <div id=banniere>

  </div>
  <div class="nav">
  <ul id=listeBanniere>
    <li>Accueil</li>
    <li>Attraction</li>
    <li>Restauration</li>
    <li>Boutique</li>
  </ul>
  </div>

<div id=divLogo>
  <img id=logo src="img/Logo.png" alt="">
</div>



<div id="content">
  <div id="entree">
    <div class="formulaire-formation">
  			<strong >Données pour la simulation</strong><br><br>

  			Nombre de jour : <input type="text" name="nbJour" value="" placeholder="nombre de jours"><br><br>
        Nombre de familles : <input type="text" name="nbFamille" value="" placeholder="nombre de familles"><br><br>
          <p>
            <button class="button" data-modal="modalOne" type="submit">Valider</button>
          </p>
          <div id="modalOne" class="modal">
            <div class="modal-content">
              <div class="contact-form">
                <a class="close">&times;</a>
                <form action="/">
                  <h2>La simulation est en cours veuillez patienter</h2>
                  <img src="img/unknown.png" height="200" width="200" alt="">
                </form>
              </div>
            </div>
          </div>
      </div>
      <div class="modif">
        <button type="button" class="btn btn-success">Modifier les attractions</button><br><br>
        <button type="button" class="btn btn-info">Modifier les restaurants</button><br><br>
        <button type="button" class="btn btn-secondary">Modifier les boutiques</button><br><br>
      </div>

  </div>


  <div id="sortie" style="position: relative; width:60%">
    <canvas id="myChart" ></canvas>
  </div>

  <script >
    let myChart = document.getElementById('myChart').getContext('2d');

    let barChart = new Chart(myChart, {
      type: 'line', //type de graphique
      data :{
        labels:['jour 1','jour 2','jour 3','jour 4','jour 5'],
        datasets:[{
          label :'bilan journalier',
          data :[ 1200,1500,2000,900,1750],
          backgroundColor:'black',
          borderColor:'black',
          hoverBorderColor:'white'

        },
        {
          label :'bilan/visiteur',
          data :[51,49,50,48,53],
          backgroundColor:'black',
          borderColor:'black',
          hoverBorderColor:'white'

        },
        {
          label :'nombre de visiteur',
          data :[100,120,80,90,100],
          backgroundColor:'black',
          borderColor:'black',
          hoverBorderColor:'white'

        }]
      },
      options: {
        plugins: {
        title: {
                  display: true,
                  text: 'Résultat de la simulation :',
                  font:{
                    size: 25,
                  }
        },
        legend:{
          position:'right',
        },
          scales: {
          x:{
            display : true,
            title:{
              display: true, text:"jour"}
            },
            y:{
              display : true,
              title:{
                display: true, text:"argent"}
              }
        },
      }
  }
    });

var audio = new Audio ('img/elevator-music.mp3');
var modalBtns = [...document.querySelectorAll(".button")];
modalBtns.forEach(function(btn){
  btn.onclick = function() {
    var modal = btn.getAttribute('data-modal');
    document.getElementById(modal).style.display = "block";

    audio.volume = 0.5;
    audio.muted = false;
    var currentTime = audio.currentTime;
    audio.currentTime = 3;
    audio.play();
  }
});

var closeBtns = [...document.querySelectorAll(".close")];
closeBtns.forEach(function(btn){
  btn.onclick = function() {
    var modal = btn.closest('.modal');
    modal.style.display = "none";
    audio.muted = true;
  }
});

  </script>
</div>

</body>
